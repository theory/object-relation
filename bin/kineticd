#!/usr/bin/perl

use strict;
use warnings;

use lib 'lib/';
use Kinetic::Util::Config qw(:all);

#use Devel::Symdump;
#my $symbols   = Devel::Symdump->new('main');
#my @functions = $symbols->functions();
#use Data::Dumper::Simple;
#print Dumper @functions;

my $pack = __PACKAGE__;
if ( $pack->can('SIMPLE_HOST') ) {
    my $server = SERVER_CLASS;
    eval "require $server" or die "Could not run $server: $@";
}
elsif ( $pack->can('APACHE_USER') ) {
    my @args = ( APACHE_HTTPD, 'graceful' );
    system(@args) == 0
      or die "system @args failed: $?";
}
